"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[533],{205:(pt,U,l)=>{l.d(U,{h:()=>_});var m=l(5758),c=l(3184),u=l(6362),w=l(7317);function N(v,x){if(1&v&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&v){const t=c.oxw();c.xp6(1),c.hij(" ",t.data.message," ")}}class _{constructor(x){this.data=x}ngOnInit(){}}_.\u0275fac=function(x){return new(x||_)(c.Y36(m.WI))},_.\u0275cmp=c.Xpm({type:_,selectors:[["avr-confirm-delete-dialog"]],decls:11,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(x,t){1&x&&(c.TgZ(0,"h2",0),c._uU(1),c.qZA(),c.TgZ(2,"mat-dialog-content",1)(3,"p"),c._uU(4),c.qZA(),c.YNc(5,N,2,1,"p",2),c.qZA(),c.TgZ(6,"mat-dialog-actions")(7,"button",3),c._uU(8,"No"),c.qZA(),c.TgZ(9,"button",4),c._uU(10,"Yes"),c.qZA()()),2&x&&(c.xp6(1),c.hij("Deleting ",t.data.name,""),c.xp6(3),c.hij(" Are you sure you want to delete ",t.data.name,"? "),c.xp6(1),c.Q6J("ngIf",t.data.message),c.xp6(4),c.Q6J("mat-dialog-close",!0))},directives:[m.uh,m.xY,u.O5,m.H8,w.lW,m.ZT],styles:[""]})},9533:(pt,U,l)=>{l.r(U),l.d(U,{DashboardModule:()=>W});var m=l(6362),c=l(5434),u=l(587),w=l(6774),N=l(9394),_=l(9481),v=l(9482),x=l(7783),t=l(3184),J=l(4453),k=l(9910),A=l(7317),b=l(5590),D=l(7778),V=l(6131),E=l(6531);function T(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw(),t.MAs(3).toggle()}),t.TgZ(1,"mat-icon"),t._uU(2,"double_arrow"),t.qZA()()}}const C=function(a){return{"side-menu-open":a}},f=function(){return["characters"]},F=function(){return["aliases"]},X=function(){return["gvars"]};class L extends x.t{constructor(e,n,o){super(o),this.router=e,this.dashboardService=n,this.bp=o,(0,v.jl)()||this.router.navigate(["login"])}logout(){(0,v.gy)(),this.router.navigate([""])}}L.\u0275fac=function(e){return new(e||L)(t.Y36(_.F0),t.Y36(J.s),t.Y36(k.Yg))},L.\u0275cmp=t.Xpm({type:L,selectors:[["avr-dashboard"]],features:[t.qOj],decls:45,vars:12,consts:[["mat-icon-button","","class","small-menu-button mat-fab","color","accent",3,"click",4,"ngIf"],[1,"sidenav-container",3,"ngClass"],["fixedTopGap","56px",1,"sidenav","mat-elevation-z3",3,"opened","mode","openedChange"],["sidenav",""],["mat-list-item","",3,"routerLink","click"],["expanded","",1,"mat-elevation-z0"],[1,"nav-panel"],[1,"nav-panel-body"],["mat-list-item","","routerLink","/dashboard/workshop",3,"click"],["mat-list-item","","routerLink","/dashboard/workshop/my-subscriptions",3,"click"],["mat-list-item","","routerLink","/dashboard/workshop/my-work",3,"click"],["mat-list-item","","routerLink","/dashboard/homebrew/items",3,"click"],["mat-list-item","","routerLink","/dashboard/homebrew/spells",3,"click"],["mat-list-item","","href","https://critterdb.com/#/index","target","_blank","rel","noopener noreferrer",3,"click"],[1,"icon-in-panel"],[1,"spacer"],["mat-list-item","",3,"click"],["mat-icon-button","","color","accent",1,"small-menu-button","mat-fab",3,"click"]],template:function(e,n){if(1&e){const o=t.EpF();t.YNc(0,T,3,0,"button",0),t.TgZ(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),t.NdJ("openedChange",function(r){return n.medium=r}),t.TgZ(4,"mat-nav-list")(5,"a",4),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(6,"Characters"),t.qZA(),t.TgZ(7,"mat-expansion-panel",5)(8,"mat-expansion-panel-header")(9,"mat-panel-title",6),t._uU(10," Alias Workshop "),t.qZA()(),t.TgZ(11,"div",7)(12,"a",8),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(13,"Explore"),t.qZA(),t.TgZ(14,"a",9),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(15,"My Subscriptions"),t.qZA(),t.TgZ(16,"a",10),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(17,"My Work"),t.qZA()()(),t.TgZ(18,"mat-expansion-panel",5)(19,"mat-expansion-panel-header")(20,"mat-panel-title",6),t._uU(21," Customization "),t.qZA()(),t.TgZ(22,"div",7)(23,"a",4),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(24,"My Customizations"),t.qZA(),t.TgZ(25,"a",4),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(26,"Global Variables"),t.qZA()()(),t.TgZ(27,"mat-expansion-panel",5)(28,"mat-expansion-panel-header")(29,"mat-panel-title",6),t._uU(30," Homebrew "),t.qZA()(),t.TgZ(31,"div",7)(32,"a",11),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(33,"Items"),t.qZA(),t.TgZ(34,"a",12),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(35,"Spells"),t.qZA(),t.TgZ(36,"a",13),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(3);return(n.small||n.mobile)&&r.toggle()}),t._uU(37,"Creatures "),t.TgZ(38,"mat-icon",14),t._uU(39,"launch"),t.qZA()()()(),t._UZ(40,"div",15),t.TgZ(41,"a",16),t.NdJ("click",function(){return n.logout()}),t._uU(42,"Logout"),t.qZA()()(),t.TgZ(43,"mat-sidenav-content"),t._UZ(44,"router-outlet"),t.qZA()()}if(2&e){const o=t.MAs(3);t.Q6J("ngIf",(n.small||n.mobile)&&!o.opened),t.xp6(1),t.Q6J("ngClass",t.VKq(7,C,!o.opened)),t.xp6(1),t.Q6J("opened",n.medium)("mode",n.small||n.mobile?"over":"side"),t.xp6(3),t.Q6J("routerLink",t.DdM(9,f)),t.xp6(18),t.Q6J("routerLink",t.DdM(10,F)),t.xp6(2),t.Q6J("routerLink",t.DdM(11,X))}},directives:[m.O5,A.lW,b.Hw,D.TM,m.mk,D.JX,V.Hk,V.Tg,_.yS,E.ib,E.yz,E.yK,D.Rh,_.lC],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.spacer[_ngcontent-%COMP%]{height:32px}mat-expansion-panel-header[_ngcontent-%COMP%]{transition:background-color .5s ease-in-out;padding-left:16px}mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px)}.nav-panel[_ngcontent-%COMP%]{text-decoration:none;font-weight:300}.nav-panel-body[_ngcontent-%COMP%]{margin:0 -24px -16px}.nav-panel-body[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0 24px;height:36px;font-size:90%}.icon-in-panel[_ngcontent-%COMP%]{font-size:16px;height:16px;padding-left:4px}  .small-menu-button>span{padding:0!important}.small-menu-button[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:100px;left:17px;z-index:5}.side-menu-open[_ngcontent-%COMP%]{margin-top:-40px}"]});var tt=l(4139),y=l(6488);function q(a,e,n,o){var p,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(a,e,n,o);else for(var g=a.length-1;g>=0;g--)(p=a[g])&&(r=(i<3?p(r):i>3?p(e,n,r):p(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}Object.create;Object.create;var h=l(5758),Nt=l(6942);class Pt{constructor(e="",n=[],o=!1,i,r){this.name=e,this.automation=n,this._v=2,this.proper=o,this.verb=i,this.activation_type=r}}var Et=l(4936),Lt=l(3538),St=l(1734),At=l(9163),et=l(2528),B=l(4770),Jt=l(1434),It=l(1130),wt=l(89),Mt=l(9975),mt=l(4683),Rt=l(1534),Yt=l(2914),Qt=l(4742);function qt(a,e){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n.name," ")}}function Ht(a,e){1&a&&(t.TgZ(0,"p"),t._uU(1,"Please select an attack."),t.qZA())}function Ft(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"div",30),t._UZ(1,"mat-divider",18),t.TgZ(2,"h3"),t._uU(3," Display Options "),t.qZA(),t.TgZ(4,"div",31)(5,"span"),t._uU(6),t.TgZ(7,"mat-form-field")(8,"input",32),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).verbWrapper=i}),t.qZA()(),t._uU(9),t.qZA(),t.TgZ(10,"mat-checkbox",33),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).selectedAttack.proper=i}),t._uU(11,"Proper Noun"),t.qZA(),t.TgZ(12,"mat-form-field")(13,"input",34),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).thumbWrapper=i}),t.qZA()(),t.TgZ(14,"mat-form-field")(15,"input",35),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).phraseWrapper=i}),t.qZA()(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Action Type"),t.qZA(),t.TgZ(19,"mat-select",33),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).activationTypeWrapper=i}),t.TgZ(20,"mat-option",21),t._uU(21,"Attack"),t.qZA(),t.TgZ(22,"mat-option",21),t._uU(23,"Action"),t.qZA(),t.TgZ(24,"mat-option",21),t._uU(25,"No Action"),t.qZA(),t.TgZ(26,"mat-option",21),t._uU(27,"Bonus Action"),t.qZA(),t.TgZ(28,"mat-option",21),t._uU(29,"Reaction"),t.qZA(),t.TgZ(30,"mat-option",21),t._uU(31,"Minute"),t.qZA(),t.TgZ(32,"mat-option",21),t._uU(33,"Hour"),t.qZA(),t.TgZ(34,"mat-option",21),t._uU(35,"Special"),t.qZA(),t.TgZ(36,"mat-option",21),t._uU(37,"Legendary Action"),t.qZA(),t.TgZ(38,"mat-option",21),t._uU(39,"Mythic Action"),t.qZA(),t.TgZ(40,"mat-option",21),t._uU(41,"Lair Action"),t.qZA()()(),t.TgZ(42,"mat-form-field")(43,"input",36),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).list_display_override=i}),t.qZA(),t.TgZ(44,"span",37),t._uU(45),t.qZA()()(),t._UZ(46,"mat-divider",18),t.TgZ(47,"h3"),t._uU(48," Critical Hit Options "),t.qZA(),t.TgZ(49,"div",38)(50,"mat-form-field")(51,"input",39),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).critonWrapper=i}),t.qZA()(),t.TgZ(52,"mat-form-field")(53,"input",40),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(3).extraCritDamageWrapper=i}),t.qZA()()()()}if(2&a){const n=t.oxw(3);t.xp6(6),t.hij(" Display: ",n.character.name," "),t.xp6(2),t.Q6J("ngModel",n.verbWrapper),t.xp6(1),t.hij(" ",n.selectedAttack.proper?n.selectedAttack.name:"a "+n.selectedAttack.name,"! "),t.xp6(1),t.Q6J("ngModel",n.selectedAttack.proper),t.xp6(3),t.Q6J("ngModel",n.thumbWrapper),t.xp6(2),t.Q6J("ngModel",n.phraseWrapper),t.xp6(4),t.Q6J("ngModel",n.activationTypeWrapper),t.xp6(1),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4),t.xp6(2),t.Q6J("value",6),t.xp6(2),t.Q6J("value",7),t.xp6(2),t.Q6J("value",8),t.xp6(2),t.Q6J("value",9),t.xp6(2),t.Q6J("value",10),t.xp6(2),t.Q6J("value",11),t.xp6(3),t.Q6J("ngModel",n.list_display_override),t.xp6(2),t.Oqu("{ }"),t.xp6(6),t.Q6J("ngModel",n.critonWrapper),t.xp6(2),t.Q6J("ngModel",n.extraCritDamageWrapper)}}function Bt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"div")(1,"div",22)(2,"mat-form-field",17)(3,"input",23),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw(2).selectedAttack.name=i}),t.qZA()(),t.TgZ(4,"span")(5,"span",10)(6,"button",24),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return i.deleteAttack(i.selectedAttack)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA()()(),t.TgZ(9,"span",10)(10,"button",25),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return i.beginYAMLExport(i.selectedAttack)}),t.TgZ(11,"mat-icon",26),t._uU(12,"vertical_align_top"),t.qZA()()()()(),t.TgZ(13,"span",27),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return i.showAdvancedOptions=!i.showAdvancedOptions}),t._uU(14," Advanced Options "),t.TgZ(15,"mat-icon"),t._uU(16),t.qZA()(),t.YNc(17,Ft,54,22,"div",28),t._UZ(18,"mat-divider",18),t.TgZ(19,"h3"),t._uU(20," Automation "),t.qZA(),t._UZ(21,"avr-automation-editor",29),t.qZA()}if(2&a){const n=t.oxw(2);t.xp6(3),t.Q6J("ngModel",n.selectedAttack.name),t.xp6(13),t.hij(" ",n.showAdvancedOptions?"expand_less":"expand_more"," "),t.xp6(1),t.Q6J("ngIf",n.showAdvancedOptions),t.xp6(4),t.Q6J("automation",n.selectedAttack.automation)}}function Gt(a,e){if(1&a&&(t.TgZ(0,"p",41),t._uU(1),t.qZA()),2&a){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.errorValue," ")}}function jt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"mat-dialog-content",4)(1,"div")(2,"p"),t._uU(3," Need help using the editor? Check out the docs "),t.TgZ(4,"a",5),t._uU(5,"here"),t.qZA(),t._uU(6,"! "),t.qZA()(),t.TgZ(7,"div",6)(8,"mat-form-field")(9,"mat-label"),t._uU(10,"Select an attack"),t.qZA(),t.TgZ(11,"mat-select",7),t.NdJ("valueChange",function(i){t.CHM(n);return t.oxw().selectedAttack=i}),t.YNc(12,qt,2,2,"mat-option",8),t.TgZ(13,"mat-option",9),t.NdJ("click",function(){return t.CHM(n),t.oxw().addAndSelectNewAttack()}),t._uU(14,"New..."),t.qZA()()(),t.TgZ(15,"span")(16,"span",10)(17,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw().beginYAMLImport()}),t.TgZ(18,"mat-icon",12),t._uU(19,"vertical_align_bottom"),t.qZA()()(),t.TgZ(20,"span",10)(21,"button",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().newFromSRD()}),t.TgZ(22,"mat-icon",14),t._uU(23,"scanner"),t.qZA()()(),t.TgZ(24,"span",10)(25,"button",15),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return i.beginYAMLExport(i.allAttacks)}),t.TgZ(26,"mat-icon",16),t._uU(27,"vertical_align_top"),t.qZA()()()(),t._UZ(28,"span",17),t.qZA(),t._UZ(29,"mat-divider",18),t.YNc(30,Ht,2,0,"p",19),t.YNc(31,Bt,22,4,"div",19),t.YNc(32,Gt,2,1,"p",20),t.qZA()}if(2&a){const n=t.oxw();t.xp6(11),t.Q6J("value",n.selectedAttack),t.xp6(1),t.Q6J("ngForOf",n.allAttacks),t.xp6(18),t.Q6J("ngIf",!n.selectedAttack),t.xp6(1),t.Q6J("ngIf",n.selectedAttack),t.xp6(1),t.Q6J("ngIf",n.errorValue)}}function $t(a,e){1&a&&(t.TgZ(0,"mat-dialog-content",4),t._UZ(1,"mat-spinner",42),t.TgZ(2,"p"),t._uU(3," Loading attacks... "),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("diameter",24))}class O{constructor(e,n,o,i,r){this.character=e,this.charService=n,this.dialogRef=o,this.dialog=i,this.snackBar=r,this.saveButtonValue="Save",this.saveAndExitButtonValue="Save and Exit",this.saveButtonDisabled=!1,this.showAdvancedOptions=!1}ngOnDestroy(){this.snackBar.dismiss()}ngOnInit(){this.loadAttacks()}loadAttacks(){this.charService.getCharacterAttacks(this.character.upstream).subscribe(e=>{this.allAttacks=e})}addAndSelectNewAttack(){const e=new Pt("New Attack");this.allAttacks.push(e),this.selectedAttack=e}newFromSRD(){this.dialog.open(St.b,{width:"60%",disableClose:!0,data:{getter:()=>this.charService.getTemplateAttacks(),namer:n=>n.name}}).afterClosed().subscribe(n=>{n&&(this.allAttacks.push(n),this.selectedAttack=n)})}deleteAttack(e){const n=this.allAttacks.indexOf(e);n>-1&&this.allAttacks.splice(n,1),this.selectedAttack=null}doSave(){return this.saveButtonValue="Saving...",this.saveAndExitButtonValue="Saving...",this.saveButtonDisabled=!0,this.charService.putCharacterAttacks(this.character.upstream,this.allAttacks).pipe((0,Nt.U)(e=>(this.saveButtonValue="Save",this.saveAndExitButtonValue="Save and Exit",this.saveButtonDisabled=!1,!e||e.error?this.snackBar.openFromComponent(At.U,{data:{html:`${e.error}`},horizontalPosition:"right",duration:-1}):this.errorValue=null,e)))}save(){this.doSave().subscribe()}saveAndExit(){this.doSave().subscribe(e=>{e&&!e.error&&this.dialogRef.close()})}beginYAMLExport(e){this.dialog.open(Et.m,{data:{name:e instanceof Array?"All Attacks":e.name,data:e,yaml:!0},width:"60%"})}beginYAMLImport(){const e=this.dialog.open(Lt.Q,{width:"60%",disableClose:!0,data:{validator:n=>this.validateAttackJSON(e,n),yaml:!0}});e.afterClosed().subscribe(n=>{if(n){const o=n;o instanceof Array?this.allAttacks.push(...o):this.allAttacks.push(o)}})}validateAttackJSON(e,n){this.charService.validateAttackJSON(n).subscribe(o=>{e.componentInstance.loading=!1,o.success?e.close(n):this.snackBar.openFromComponent(At.U,{data:{html:`${o.error}`},horizontalPosition:"right",duration:-1})})}}function H(a){return function(e,n){Object.defineProperty(e,n,{get:function(){return this.selectedAttack[a]},set:function(o){this.selectedAttack[a]=o||void 0}})}}O.\u0275fac=function(e){return new(e||O)(t.Y36(h.WI),t.Y36(J.s),t.Y36(h.so),t.Y36(h.uw),t.Y36(et.ux))},O.\u0275cmp=t.Xpm({type:O,selectors:[["avr-attack-editor-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-flat-button","","mat-dialog-close","","color","warn"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"mat-typography"],["href","https://avrae.readthedocs.io/en/stable/automation_ref.html","target","_blank","rel","noopener noreferrer"],["fxLayout","row",1,"auto-row"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["fxFlex",""],["mat-icon-button","","matTooltip","Import YAML",3,"click"],["aria-label","Import from YAML"],["mat-icon-button","","matTooltip","Copy SRD Monster Action",3,"click"],["aria-label","Copy SRD Monster Action"],["mat-icon-button","","matTooltip","Export All to YAML",3,"click"],["aria-label","Export All to YAML"],["fxFlex","grow"],[1,"beefy-divider"],[4,"ngIf"],["class","error-text",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutGap","4px",1,"auto-row"],["matInput","","placeholder","Attack Name",3,"ngModel","ngModelChange"],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","matTooltip","Export to YAML",3,"click"],["aria-label","Export to YAML"],[1,"toggle-advanced-options",3,"click"],["class","advanced-options",4,"ngIf"],[3,"automation"],[1,"advanced-options"],[1,"display-options-container"],["matInput","","placeholder","attacks with",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["matInput","","placeholder","Thumbnail URL","matTooltip","The URL of an image that will display each time this attack is used.",3,"ngModel","ngModelChange"],["matInput","","placeholder","Flavor Text","matTooltip","Some text that will display each time this attack is used.",3,"ngModel","ngModelChange"],["matInput","","placeholder","List Display Override","matTooltip","Overrides the default display text when listing actions.",3,"ngModel","ngModelChange"],["matSuffix","","matTooltip","AnnotatedString - variables and functions allowed in braces"],[1,"crit-options-container","auto-row"],["matInput","","placeholder","Criton","type","number","min","1","max","20","matTooltip","The natural roll this attack will crit on.",3,"ngModel","ngModelChange"],["matInput","","placeholder","Extra Crit Damage","matTooltip","How much extra damage this attack does on a crit, beyond doubling dice.",3,"ngModel","ngModelChange"],[1,"error-text"],[3,"diameter"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.YNc(2,jt,33,5,"mat-dialog-content",1),t.YNc(3,$t,4,1,"mat-dialog-content",1),t.TgZ(4,"mat-dialog-actions")(5,"button",2),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"span")(8,"button",3),t.NdJ("click",function(){return n.save()}),t._uU(9),t.qZA(),t.TgZ(10,"button",3),t.NdJ("click",function(){return n.saveAndExit()}),t._uU(11),t.qZA()()()),2&e&&(t.xp6(1),t.hij("Editing Attacks: ",n.character.name,""),t.xp6(1),t.Q6J("ngIf",n.allAttacks),t.xp6(1),t.Q6J("ngIf",!n.allAttacks),t.xp6(5),t.Q6J("disabled",n.saveButtonDisabled),t.xp6(1),t.Oqu(n.saveButtonValue),t.xp6(1),t.Q6J("disabled",n.saveButtonDisabled),t.xp6(1),t.Oqu(n.saveAndExitButtonValue))},directives:[h.uh,m.O5,h.xY,c.xw,B.KE,B.hX,Jt.gD,m.sg,It.ey,c.yH,A.lW,wt.gM,b.Hw,Mt.d,c.SQ,mt.Nt,u.Fj,u.JJ,u.On,Rt.oG,B.R9,u.qQ,u.Fd,u.wV,Yt._,Qt.Ou,h.H8,h.ZT],styles:[".beefy-divider[_ngcontent-%COMP%]{margin-bottom:1em;border-width:3px}.error-text[_ngcontent-%COMP%]{color:red;white-space:pre-wrap}.toggle-advanced-options[_ngcontent-%COMP%]{cursor:pointer}.toggle-advanced-options[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px}.display-options-container[_ngcontent-%COMP%]{display:grid}.crit-options-container[_ngcontent-%COMP%]{display:flex;grid-template-columns:auto 1fr;grid-column-gap:8px}mat-dialog-actions[_ngcontent-%COMP%]{gap:8px}@media (max-width: 600px){mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center;flex-direction:column-reverse}}@media (max-width: 960px){.auto-row[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.auto-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .auto-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;justify-content:space-around}.auto-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{gap:8px;display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}}"]}),q([H("verb")],O.prototype,"verbWrapper",void 0),q([H("thumb")],O.prototype,"thumbWrapper",void 0),q([H("phrase")],O.prototype,"phraseWrapper",void 0),q([H("criton")],O.prototype,"critonWrapper",void 0),q([H("extra_crit_damage")],O.prototype,"extraCritDamageWrapper",void 0),q([H("activation_type")],O.prototype,"activationTypeWrapper",void 0),q([H("list_display_override")],O.prototype,"list_display_override",void 0);var ft=l(1961),Ot=l(3346);function Wt(a,e){if(1&a&&(t.TgZ(0,"mat-card",5)(1,"mat-grid-list",6)(2,"mat-grid-tile",7),t._UZ(3,"img",8),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"mat-grid-tile",9)(6,"div")(7,"h1",10),t._uU(8),t.ALo(9,"async"),t.TgZ(10,"span",11),t._uU(11),t.ALo(12,"async"),t.qZA()(),t.TgZ(13,"p",12),t._uU(14),t.ALo(15,"async"),t._UZ(16,"br"),t._uU(17),t.ALo(18,"async"),t.qZA()()()()()),2&a){const n=t.oxw();let o,i,r,p,g;t.xp6(1),t.s9C("rowHeight",n.mobile?"1:2":"1:1"),t.xp6(1),t.s9C("colspan",n.mobile?4:1),t.xp6(1),t.Q6J("src",null==(o=t.lcZ(4,8,n.userInfo))?null:o.avatarUrl,t.LSH),t.xp6(2),t.s9C("colspan",n.mobile?4:3),t.xp6(3),t.hij(" ",null==(i=t.lcZ(9,10,n.userInfo))?null:i.username,""),t.xp6(3),t.hij("#",null==(r=t.lcZ(12,12,n.userInfo))?null:r.discriminator,""),t.xp6(3),t.hij(" Characters: ",null==(p=t.lcZ(15,14,n.userStats))?null:p.numCharacters,""),t.xp6(3),t.hij(" Customizations: ",null==(g=t.lcZ(18,16,n.userStats))?null:g.numCustomizations," ")}}function zt(a,e){if(1&a&&(t.TgZ(0,"p",22),t._uU(1),t.qZA()),2&a){const n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.getInitials(n.name)," ")}}function Kt(a,e){if(1&a&&t._UZ(0,"img",23),2&a){const n=t.oxw().$implicit,o=t.oxw();t.Q6J("src",o.getImage(n),t.LSH)("alt","Image for "+n.name)}}function Vt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"mat-grid-tile",13)(1,"div",14),t.YNc(2,zt,2,1,"p",15),t.qZA(),t.YNc(3,Kt,1,2,"img",16),t.TgZ(4,"div",17)(5,"div",18)(6,"h3"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"div",19)(11,"a",20)(12,"mat-icon"),t._uU(13,"menu_book"),t.qZA()(),t.TgZ(14,"button",21),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().beginEditAttacks(r)}),t.TgZ(15,"mat-icon"),t._uU(16,"build"),t.qZA()()()()()}if(2&a){const n=e.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngIf",!o.getImage(n)),t.xp6(1),t.Q6J("ngIf",o.getImage(n)),t.xp6(4),t.hij(" ",n.name," "),t.xp6(2),t.hij(" ",o.getDescription(n)," "),t.xp6(2),t.Q6J("href",o.getUpstreamURL(n.upstream),t.LSH),t.xp6(3),t.Q6J("matTooltip",n.import_version<o.MIN_CHARACTER_AUTOMATION_VERSION?"Please !update your character to use Automation.":"Edit Attacks")}}class nt extends x.t{constructor(e,n,o){super(o),this.dashboardService=e,this.dialog=n,this.bp=o,this.MIN_CHARACTER_AUTOMATION_VERSION=17}ngOnInit(){this.getUserInfo(),this.getUserStats(),this.getCharacters(),this.onResize(null)}getUserInfo(){this.userInfo=(0,tt.of)((0,y.PR)())}getUserStats(){this.userStats=this.dashboardService.getUserStats()}getCharacters(){this.characters=this.dashboardService.getCharacterMeta()}getInitials(e){const n=e.match(/\b\w/g)||[];return((n.shift()||"")+(n.pop()||"")).toUpperCase()}getImage(e){return e.overrides.image||e.image}getDescription(e){return e.overrides.desc||e.description}getUpstreamURL(e){return e.startsWith("dicecloud-")?`https://v1.dicecloud.com/character/${e.slice(10)}`:e.startsWith("google-")?`https://docs.google.com/spreadsheets/d/${e.slice(7)}`:e.startsWith("beyond-")?`https://ddb.ac/characters/${e.slice(7)}`:e.startsWith("dicecloudv2-")?`https://dicecloud.com/character/${e.slice(12)}`:""}beginEditAttacks(e){e.import_version<this.MIN_CHARACTER_AUTOMATION_VERSION||this.dialog.open(O,{width:"95%",disableClose:!0,data:e,panelClass:"automation-overlay"}).afterClosed().subscribe(n=>{console.log(n)})}onResize(e){window.innerWidth<600?this.numCols=1:window.innerWidth<1024?this.numCols=2:window.innerWidth<1440?this.numCols=4:this.numCols=6}}nt.\u0275fac=function(e){return new(e||nt)(t.Y36(J.s),t.Y36(h.uw),t.Y36(k.Yg))},nt.\u0275cmp=t.Xpm({type:nt,selectors:[["avr-characters"]],features:[t.qOj],decls:7,vars:7,consts:[[1,"characterList"],["class","user-card",4,"ngIf"],[1,"spacer-8px"],["rowHeight","5:6","gutterSize","8",3,"cols","resize"],["class","character-tile",4,"ngFor","ngForOf"],[1,"user-card"],["cols","4",3,"rowHeight"],[3,"colspan"],["alt","avatar",1,"avatarImg","mat-elevation-z1",3,"src"],[1,"user-stats",3,"colspan"],[1,"mat-display-2","smallmargin"],[1,"mat-small"],[1,"mat-h3"],[1,"character-tile"],[1,"character-name-underlay","mat-typography","character-image"],["class","ignore-theme",4,"ngIf"],["class","character-image",3,"src","alt",4,"ngIf"],[1,"character-meta"],[1,"mat-typography","ignore-theme","character-text"],[1,"mat-typography","ignore-theme","character-actions"],["mat-icon-button","","matTooltip","View Sheet","target","_blank",3,"href"],["mat-icon-button","",3,"matTooltip","click"],[1,"ignore-theme"],[1,"character-image",3,"src","alt"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Wt,19,18,"mat-card",1),t.ALo(2,"async"),t._UZ(3,"div",2),t.TgZ(4,"mat-grid-list",3),t.NdJ("resize",function(i){return n.onResize(i)},!1,t.Jf7),t.YNc(5,Vt,17,6,"mat-grid-tile",4),t.ALo(6,"async"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,n.userInfo)),t.xp6(3),t.Q6J("cols",n.numCols),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,5,n.characters)))},directives:[m.O5,ft.a8,Ot.Il,Ot.DX,m.sg,A.zs,wt.gM,b.Hw,A.lW],pipes:[m.Ov],styles:[".characterList[_ngcontent-%COMP%]{margin:8px}.avatarImg[_ngcontent-%COMP%]{position:center;height:80%;width:80%;border-radius:50%}.smallmargin[_ngcontent-%COMP%]{margin-bottom:16px}.spacer-8px[_ngcontent-%COMP%]{margin:8px}.character-tile[_ngcontent-%COMP%]{border-radius:10px}.ignore-theme[_ngcontent-%COMP%]{color:#fff}.character-text[_ngcontent-%COMP%]{margin:1em 1em 0;height:calc(100% - (3em + 40px));word-wrap:break-word;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.character-text[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.character-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.character-actions[_ngcontent-%COMP%]{margin:1em;height:40px}.character-name-underlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;background:#424242;z-index:-1}.character-name-underlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative;top:50%;transform:translateY(-50%);font-size:xx-large}.character-tile[_ngcontent-%COMP%]   .character-image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;transition:all .5s ease}.character-tile[_ngcontent-%COMP%]:hover   .character-image[_ngcontent-%COMP%]{filter:blur(3px) brightness(.7);transform:scale(1.05)}.character-meta[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;opacity:0;transition:all .5s ease}.character-meta[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 960px){  .automation-overlay{max-width:95vw!important;width:95%!important}.character-meta[_ngcontent-%COMP%]{opacity:1}.character-tile[_ngcontent-%COMP%]   .character-image[_ngcontent-%COMP%]{filter:blur(3px) brightness(.6);transform:scale(1.05)}.character-meta[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-line-clamp:10;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis}avr-attack-editor-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-wrap:wrap}.mat-typography.ignore-theme.character-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}}@media (max-width: 600px){.avatarImg[_ngcontent-%COMP%]{width:40%}}\n/*# sourceMappingURL=characters.component.css.map*/"]});var ut=l(2379),_t=l(205);class I{constructor(e){this.data=e}ngOnInit(){}}function Xt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"mat-form-field")(1,"input",7),t.NdJ("ngModelChange",function(i){t.CHM(n);return t.oxw().name=i}),t.qZA()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngModel",n.name)}}I.\u0275fac=function(e){return new(e||I)(t.Y36(h.WI))},I.\u0275cmp=t.Xpm({type:I,selectors:[["avr-edit-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["matInput","","spellcheck","false",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"mat-form-field")(4,"textarea",2),t.NdJ("ngModelChange",function(i){return n.data.content=i}),t.qZA()()(),t.TgZ(5,"mat-dialog-actions")(6,"button",3),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",4),t._uU(9,"Done"),t.qZA()()),2&e&&(t.xp6(1),t.hij("Editing ",n.data.name,""),t.xp6(3),t.Q6J("ngModel",n.data.content),t.xp6(4),t.Q6J("mat-dialog-close",n.data.content))},directives:[h.uh,h.xY,B.KE,mt.Nt,u.Fj,u.JJ,u.On,h.H8,A.lW,h.ZT],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;font-family:Courier New,monospace}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){min-height:200px}\n/*# sourceMappingURL=edit-dialog.component.css.map*/"]});const te=function(a,e){return{name:a,value:e}};class R{constructor(e){this.data=e}ngOnInit(){}}R.\u0275fac=function(e){return new(e||R)(t.Y36(h.WI))},R.\u0275cmp=t.Xpm({type:R,selectors:[["avr-new-dialog"]],decls:12,vars:7,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"form-container"],[4,"ngIf"],["matInput","","placeholder","Value",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"div",2),t.YNc(4,Xt,2,1,"mat-form-field",3),t.TgZ(5,"mat-form-field")(6,"textarea",4),t.NdJ("ngModelChange",function(i){return n.value=i}),t.qZA()()()(),t.TgZ(7,"mat-dialog-actions")(8,"button",5),t._uU(9,"Cancel"),t.qZA(),t.TgZ(10,"button",6),t._uU(11,"Done"),t.qZA()()),2&e&&(t.xp6(1),t.hij("New ",n.data.type,"..."),t.xp6(3),t.Q6J("ngIf",n.data.showName),t.xp6(2),t.Q6J("ngModel",n.value),t.xp6(4),t.Q6J("mat-dialog-close",t.WLB(4,te,n.name,n.value)))},directives:[h.uh,h.xY,m.O5,B.KE,mt.Nt,u.Fj,u.JJ,u.On,h.H8,A.lW,h.ZT],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace}\n/*# sourceMappingURL=new-dialog.component.css.map*/"]});var gt=l(4766),P=l(7418),kt=l(8784);const vt=`${gt.N.apiURL}/customizations/aliases`,Ct=`${gt.N.apiURL}/customizations/snippets`,xt=`${gt.N.apiURL}/customizations/uvars`;class Y{constructor(e){this.http=e}getAliases(){return this.http.get(vt,(0,y.vC)())}updateAlias(e){return this.http.post(`${vt}/${e.name}`,e,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("updateAlias")))}deleteAlias(e){return this.http.delete(`${vt}/${e.name}`,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("deleteAlias")))}getSnippets(){return this.http.get(Ct,(0,y.vC)())}updateSnippet(e){return this.http.post(`${Ct}/${e.name}`,e,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("updateSnippet")))}deleteSnippet(e){return this.http.delete(`${Ct}/${e.name}`,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("deleteSnippet")))}getUvars(){return this.http.get(xt,(0,y.vC)())}updateUvar(e){return this.http.post(`${xt}/${e.name}`,e,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("updateUvar")))}deleteUvar(e){return this.http.delete(`${xt}/${e.name}`,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("deleteUvar")))}handleTextError(e="operation"){return n=>(console.error(n),(0,tt.of)(`${e} failed: ${n.error}`))}}Y.\u0275fac=function(e){return new(e||Y)(t.LFG(kt.eN))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"});var s=l(7939);function ee(a,e){1&a&&(t.TgZ(0,"th",12),t._uU(1,"Name"),t.qZA())}function ne(a,e){if(1&a&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&a){const n=e.$implicit;t.xp6(1),t.Oqu(n.name)}}function ae(a,e){1&a&&(t.TgZ(0,"td",14),t._uU(1,"Create New"),t.qZA())}function oe(a,e){1&a&&(t.TgZ(0,"th",15),t._uU(1,"Commands"),t.qZA())}function ie(a,e){if(1&a&&(t.TgZ(0,"td",13)(1,"pre"),t._uU(2),t.qZA()()),2&a){const n=e.$implicit;t.xp6(2),t.Oqu(n.commands)}}function re(a,e){1&a&&t._UZ(0,"td",14)}function ce(a,e){1&a&&t._UZ(0,"th",16)}function le(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"td",13)(1,"button",17),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().beginEdit(r)}),t.TgZ(2,"mat-icon",18),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",19),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().confirmDelete(r)}),t.TgZ(5,"mat-icon",20),t._uU(6,"delete"),t.qZA()()()}}function se(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"td",14)(1,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().beginNew()}),t.TgZ(2,"mat-icon",21),t._uU(3,"launch"),t.qZA()()()}}function pe(a,e){1&a&&t._UZ(0,"tr",22)}function de(a,e){1&a&&t._UZ(0,"tr",23)}function me(a,e){1&a&&t._UZ(0,"tr",24)}class at{constructor(e,n,o){this.dialog=e,this.snackBar=n,this.custService=o,this.columnsToDisplay=["name","commands","buttons"]}ngOnInit(){}refresh(){this.custService.getAliases().subscribe(e=>this.data=e)}beginNew(){this.dialog.open(R,{data:{showName:!0,type:"alias"},width:"60%"}).afterClosed().subscribe(n=>{if(n){if(!n.name||!n.value)return void this.snackBar.open("Name or commands cannot be empty.");let o={name:n.name,commands:n.value};if(o.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");this.post(o)}})}beginEdit(e){this.dialog.open(I,{data:{name:e.name,content:e.commands},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.commands=o,this.post(e))})}confirmDelete(e){this.dialog.open(_t.h,{data:{name:e.name}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}post(e){this.custService.updateAlias(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}delete(e){this.custService.deleteAlias(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}}function ue(a,e){1&a&&(t.TgZ(0,"th",12),t._uU(1,"Name"),t.qZA())}function _e(a,e){if(1&a&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&a){const n=e.$implicit;t.xp6(1),t.Oqu(n.name)}}function ge(a,e){1&a&&(t.TgZ(0,"td",14),t._uU(1,"Create New"),t.qZA())}function he(a,e){1&a&&(t.TgZ(0,"th",15),t._uU(1,"Value"),t.qZA())}function fe(a,e){if(1&a&&(t.TgZ(0,"td",13)(1,"pre"),t._uU(2),t.qZA()()),2&a){const n=e.$implicit;t.xp6(2),t.Oqu(n.snippet)}}function ve(a,e){1&a&&t._UZ(0,"td",14)}function Ce(a,e){1&a&&t._UZ(0,"th",16)}function xe(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"td",13)(1,"button",17),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().beginEdit(r)}),t.TgZ(2,"mat-icon",18),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",19),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().confirmDelete(r)}),t.TgZ(5,"mat-icon",20),t._uU(6,"delete"),t.qZA()()()}}function be(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"td",14)(1,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().beginNew()}),t.TgZ(2,"mat-icon",21),t._uU(3,"launch"),t.qZA()()()}}function Te(a,e){1&a&&t._UZ(0,"tr",22)}function ye(a,e){1&a&&t._UZ(0,"tr",23)}function Ze(a,e){1&a&&t._UZ(0,"tr",24)}at.\u0275fac=function(e){return new(e||at)(t.Y36(h.uw),t.Y36(et.ux),t.Y36(Y))},at.\u0275cmp=t.Xpm({type:at,selectors:[["avr-alias-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","commands"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,ee,2,0,"th",2),t.YNc(3,ne,2,1,"td",3),t.YNc(4,ae,2,0,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,oe,2,0,"th",6),t.YNc(7,ie,3,1,"td",3),t.YNc(8,re,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,ce,1,0,"th",8),t.YNc(11,le,7,0,"td",3),t.YNc(12,se,4,0,"td",4),t.BQk(),t.YNc(13,pe,1,0,"tr",9),t.YNc(14,de,1,0,"tr",10),t.YNc(15,me,1,0,"tr",11),t.qZA()),2&e&&(t.Q6J("dataSource",n.data),t.xp6(13),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(1),t.Q6J("matFooterRowDef",n.columnsToDisplay))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,A.lW,b.Hw,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=alias-list.component.css.map*/"]});class ot{constructor(e,n,o){this.dialog=e,this.snackBar=n,this.custService=o,this.columnsToDisplay=["name","snippet","buttons"]}ngOnInit(){}refresh(){this.custService.getSnippets().subscribe(e=>this.data=e)}beginNew(){this.dialog.open(R,{data:{showName:!0,type:"snippet"},width:"60%"}).afterClosed().subscribe(n=>{if(n){if(!n.name||!n.value)return void this.snackBar.open("Name or value cannot be empty.");let o={name:n.name,snippet:n.value};if(o.name.includes(" "))return void this.snackBar.open("Name cannot contain whitespace.");if(o.name.length<2)return void this.snackBar.open("Name must be at least 2 characters.");this.post(o)}})}beginEdit(e){this.dialog.open(I,{data:{name:e.name,content:e.snippet},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.snippet=o,this.post(e))})}confirmDelete(e){this.dialog.open(_t.h,{data:{name:e.name}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}post(e){this.custService.updateSnippet(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}delete(e){this.custService.deleteSnippet(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}}function Ae(a,e){1&a&&(t.TgZ(0,"th",12),t._uU(1,"Name"),t.qZA())}function we(a,e){if(1&a&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&a){const n=e.$implicit;t.xp6(1),t.Oqu(n.name)}}function Me(a,e){1&a&&(t.TgZ(0,"td",14),t._uU(1,"Create New"),t.qZA())}function Oe(a,e){1&a&&(t.TgZ(0,"th",15),t._uU(1,"Value"),t.qZA())}function ke(a,e){if(1&a&&(t.TgZ(0,"td",13)(1,"pre"),t._uU(2),t.qZA()()),2&a){const n=e.$implicit;t.xp6(2),t.Oqu(n.value)}}function De(a,e){1&a&&t._UZ(0,"td",14)}function Ue(a,e){1&a&&t._UZ(0,"th",16)}function Ne(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"td",13)(1,"button",17),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().beginEdit(r)}),t.TgZ(2,"mat-icon",18),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",19),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().confirmDelete(r)}),t.TgZ(5,"mat-icon",20),t._uU(6,"delete"),t.qZA()()()}}function Pe(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"td",14)(1,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().beginNew()}),t.TgZ(2,"mat-icon",21),t._uU(3,"launch"),t.qZA()()()}}function Ee(a,e){1&a&&t._UZ(0,"tr",22)}function Le(a,e){1&a&&t._UZ(0,"tr",23)}function Se(a,e){1&a&&t._UZ(0,"tr",24)}ot.\u0275fac=function(e){return new(e||ot)(t.Y36(h.uw),t.Y36(et.ux),t.Y36(Y))},ot.\u0275cmp=t.Xpm({type:ot,selectors:[["avr-snippet-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","snippet"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,ue,2,0,"th",2),t.YNc(3,_e,2,1,"td",3),t.YNc(4,ge,2,0,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,he,2,0,"th",6),t.YNc(7,fe,3,1,"td",3),t.YNc(8,ve,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,Ce,1,0,"th",8),t.YNc(11,xe,7,0,"td",3),t.YNc(12,be,4,0,"td",4),t.BQk(),t.YNc(13,Te,1,0,"tr",9),t.YNc(14,ye,1,0,"tr",10),t.YNc(15,Ze,1,0,"tr",11),t.qZA()),2&e&&(t.Q6J("dataSource",n.data),t.xp6(13),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(1),t.Q6J("matFooterRowDef",n.columnsToDisplay))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,A.lW,b.Hw,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=snippet-list.component.css.map*/"]});class it{constructor(e,n,o){this.dialog=e,this.snackBar=n,this.custService=o,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}refresh(){this.custService.getUvars().subscribe(e=>this.data=e)}beginNew(){this.dialog.open(R,{data:{showName:!0,type:"uvar"},width:"60%"}).afterClosed().subscribe(n=>{if(n){if(!n.name||!n.value)return void this.snackBar.open("Name or value cannot be empty.");let o={name:n.name,value:n.value};this.post(o)}})}beginEdit(e){this.dialog.open(I,{data:{name:e.name,content:e.value},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.value=o,this.post(e))})}confirmDelete(e){this.dialog.open(_t.h,{data:{name:e.name}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}post(e){this.custService.updateUvar(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}delete(e){this.custService.deleteUvar(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}}it.\u0275fac=function(e){return new(e||it)(t.Y36(h.uw),t.Y36(et.ux),t.Y36(Y))},it.\u0275cmp=t.Xpm({type:it,selectors:[["avr-uvar-list"]],inputs:{data:"data"},decls:16,vars:4,consts:[["mat-table","","matSort","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,Ae,2,0,"th",2),t.YNc(3,we,2,1,"td",3),t.YNc(4,Me,2,0,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Oe,2,0,"th",6),t.YNc(7,ke,3,1,"td",3),t.YNc(8,De,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,Ue,1,0,"th",8),t.YNc(11,Ne,7,0,"td",3),t.YNc(12,Pe,4,0,"td",4),t.BQk(),t.YNc(13,Ee,1,0,"tr",9),t.YNc(14,Le,1,0,"tr",10),t.YNc(15,Se,1,0,"tr",11),t.qZA()),2&e&&(t.Q6J("dataSource",n.data),t.xp6(13),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(1),t.Q6J("matFooterRowDef",n.columnsToDisplay))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,A.lW,b.Hw,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:70%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-ce[_ngcontent-%COMP%]   ll[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=uvar-list.component.css.map*/"]});class rt{constructor(e){this.dashboardService=e}ngOnInit(){this.getCustomizations()}getCustomizations(){this.customizations=this.dashboardService.getCustomizations()}}rt.\u0275fac=function(e){return new(e||rt)(t.Y36(J.s))},rt.\u0275cmp=t.Xpm({type:rt,selectors:[["avr-customization"]],decls:12,vars:9,consts:[[1,"container"],["label","Aliases"],[3,"data"],["label","Snippets"],["label","Uvars"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-tab-group")(3,"mat-tab",1),t._UZ(4,"avr-alias-list",2),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-tab",3),t._UZ(7,"avr-snippet-list",2),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"mat-tab",4),t._UZ(10,"avr-uvar-list",2),t.ALo(11,"async"),t.qZA()()()()),2&e){let o,i,r;t.xp6(4),t.Q6J("data",null==(o=t.lcZ(5,3,n.customizations))?null:o.aliases),t.xp6(3),t.Q6J("data",null==(i=t.lcZ(8,5,n.customizations))?null:i.snippets),t.xp6(3),t.Q6J("data",null==(r=t.lcZ(11,7,n.customizations))?null:r.uvars)}},directives:[ft.a8,ut.SP,ut.uX,at,ot,it],pipes:[m.Ov],styles:[".container[_ngcontent-%COMP%]{margin:8px}\n/*# sourceMappingURL=customization.component.css.map*/"]});const G=`${gt.N.apiURL}/customizations/gvars`;class Q{constructor(e){this.http=e}getAllGvars(){return this.http.get(G,(0,y.vC)())}getGvars(e){return this.http.get(`${G}/${e?"owned":"editable"}`,(0,y.vC)())}newGvar(e){return this.http.post(`${G}`,e,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("newGvar")))}getGvar(e){return this.http.get(`${G}/${e}`,(0,y.vC)()).pipe((0,P.K)(n=>(0,tt.of)(!1)))}updateGvar(e){return this.http.post(`${G}/${e.key}`,e,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("updateGvar")))}deleteGvar(e){return this.http.delete(`${G}/${e.key}`,(0,y.ps)()).pipe((0,P.K)(this.handleTextError("deleteGvar")))}handleTextError(e="operation"){return n=>(console.error(n),(0,tt.of)(`${e} failed: ${n.error}`))}}function Je(a,e){1&a&&(t.TgZ(0,"th",11),t._uU(1,"ID"),t.qZA())}function Ie(a,e){if(1&a&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&a){const n=e.$implicit;t.xp6(1),t.Oqu(n.key)}}function Re(a,e){if(1&a&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Oqu(n.owned?"Create New":"")}}function Ye(a,e){1&a&&(t.TgZ(0,"th",14),t._uU(1,"Value"),t.qZA())}function Qe(a,e){if(1&a&&(t.TgZ(0,"td",12)(1,"pre"),t._uU(2),t.qZA()()),2&a){const n=e.$implicit;t.xp6(2),t.Oqu(n.value)}}function qe(a,e){1&a&&t._UZ(0,"td",13)}function He(a,e){1&a&&t._UZ(0,"th",11)}function Fe(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit;return t.oxw().confirmDelete(i)}),t.TgZ(1,"mat-icon",19),t._uU(2,"delete"),t.qZA()()}}function Be(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"td",12)(1,"button",15),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().beginEdit(r)}),t.TgZ(2,"mat-icon",16),t._uU(3,"edit"),t.qZA()(),t.YNc(4,Fe,3,0,"button",17),t.qZA()}if(2&a){const n=t.oxw();t.xp6(4),t.Q6J("ngIf",n.owned)}}function Ge(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).beginNew()}),t.TgZ(1,"mat-icon",21),t._uU(2,"launch"),t.qZA()()}}function je(a,e){if(1&a&&(t.TgZ(0,"td",13),t.YNc(1,Ge,3,0,"button",20),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.owned)}}function $e(a,e){1&a&&t._UZ(0,"tr",22)}function We(a,e){1&a&&t._UZ(0,"tr",23)}function ze(a,e){1&a&&t._UZ(0,"tr",25)}function Ke(a,e){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,ze,1,0,"tr",24),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("matFooterRowDef",n.columnsToDisplay)}}Q.\u0275fac=function(e){return new(e||Q)(t.LFG(kt.eN))},Q.\u0275prov=t.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"});class ct{constructor(e,n,o){this.dialog=e,this.snackBar=n,this.gvarService=o,this.columnsToDisplay=["name","value","buttons"]}ngOnInit(){}sortedGvars(e){return null==e?void 0:e.sort((n,o)=>n.key.localeCompare(o.key))}refresh(){this.gvarService.getGvars(this.owned).subscribe(e=>this.data=e)}beginNew(){this.dialog.open(R,{data:{showName:!1,type:"gvar"},width:"60%"}).afterClosed().subscribe(n=>{if(n){if(!n.value)return void this.snackBar.open("Value cannot be empty.");let o={value:n.value};this.new(o)}})}beginEdit(e){this.dialog.open(I,{data:{name:e.key,content:e.value},width:"60%"}).afterClosed().subscribe(o=>{o&&(e.value=o,this.post(e))})}confirmDelete(e){this.dialog.open(_t.h,{data:{name:e.key}}).afterClosed().subscribe(o=>{o&&this.delete(e)})}new(e){this.gvarService.newGvar(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}post(e){this.gvarService.updateGvar(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}delete(e){this.gvarService.deleteGvar(e).subscribe(n=>{this.refresh(),this.snackBar.open(n)})}}function Ve(a,e){if(1&a&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p")(4,"i"),t._uU(5),t.qZA()(),t._UZ(6,"mat-divider"),t.TgZ(7,"div",5)(8,"pre",6),t._uU(9),t.qZA()()()),2&a){const n=t.oxw();t.xp6(2),t.hij(" ",n.activeGvar.key," "),t.xp6(3),t.hij("Owned by: ",n.activeGvar.owner_name,""),t.xp6(4),t.Oqu(n.activeGvar.value)}}function Xe(a,e){if(1&a&&(t.TgZ(0,"div")(1,"p",7),t._uU(2),t.qZA()()),2&a){const n=t.oxw();t.xp6(2),t.hij(" ",n.error," ")}}ct.\u0275fac=function(e){return new(e||ct)(t.Y36(h.uw),t.Y36(et.ux),t.Y36(Q))},ct.\u0275cmp=t.Xpm({type:ct,selectors:[["avr-gvar-list"]],inputs:{data:"data",owned:"owned"},decls:16,vars:4,consts:[["mat-table","",1,"list-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","value"],["mat-header-cell","","class","table-data-cell",4,"matHeaderCellDef"],["matColumnDef","buttons","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-cell","",1,"table-data-cell"],["mat-icon-button","",3,"click"],["aria-label","Edit"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["aria-label","Delete"],["mat-icon-button","",3,"click",4,"ngIf"],["aria-label","New"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,Je,2,0,"th",2),t.YNc(3,Ie,2,1,"td",3),t.YNc(4,Re,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Ye,2,0,"th",6),t.YNc(7,Qe,3,1,"td",3),t.YNc(8,qe,1,0,"td",4),t.BQk(),t.ynx(9,7),t.YNc(10,He,1,0,"th",2),t.YNc(11,Be,5,1,"td",3),t.YNc(12,je,2,1,"td",4),t.BQk(),t.YNc(13,$e,1,0,"tr",8),t.YNc(14,We,1,0,"tr",9),t.YNc(15,Ke,2,1,"div",10),t.qZA()),2&e&&(t.Q6J("dataSource",n.sortedGvars(n.data)),t.xp6(13),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(1),t.Q6J("ngIf",n.owned))},directives:[s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,s.mD,s.yh,A.lW,b.Hw,m.O5,s.as,s.XQ,s.nj,s.Gk,s.Ke,s.Q2],styles:[".list-table[_ngcontent-%COMP%]{width:100%}.table-data-cell[_ngcontent-%COMP%]{width:55%}pre[_ngcontent-%COMP%]{white-space:pre-wrap;max-height:200px;overflow-y:scroll}@media only screen and (max-width: 840px){pre[_ngcontent-%COMP%]{max-height:100px}}td[_ngcontent-%COMP%]{vertical-align:top;padding:3px}tr[_ngcontent-%COMP%]:nth-child(even){background:#545454}.mat-tab-body-content[_ngcontent-%COMP%]{max-width:968px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{max-width:400px}th[_ngcontent-%COMP%]{min-width:100px}\n/*# sourceMappingURL=gvar-list.component.css.map*/"]});class lt{constructor(e,n){this.gvarService=e,this.route=n}ngOnInit(){this.checkForLookupQuery()}lookupGvar(e){e=e.trim(),console.log(e);const n=new URLSearchParams(window.location.search);n.set("lookup",e);const o=window.location.pathname+"?"+n.toString();history.pushState(null,"",o),this.gvarService.getGvar(e).subscribe(i=>{this.activeGvar=null,this.error=null,!1===i?this.error="Failed to get gvar.":this.activeGvar=i})}checkForLookupQuery(){const e=this.route.snapshot.queryParamMap.get("lookup");e&&this.lookupGvar(e)}}lt.\u0275fac=function(e){return new(e||lt)(t.Y36(Q),t.Y36(_.gz))},lt.\u0275cmp=t.Xpm({type:lt,selectors:[["avr-gvar-lookup"]],decls:7,vars:2,consts:[[1,"lookup-id-input"],["matInput","","placeholder","Gvar ID"],["lookupIdInput",""],["mat-flat-button","","color","primary",3,"click"],[4,"ngIf"],[1,"gvar-value-container"],[1,"gvar-value-display"],[2,"color","red"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"mat-form-field",0),t._UZ(1,"input",1,2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(2);return n.lookupGvar(r.value)}),t._uU(4,"Lookup"),t.qZA(),t.YNc(5,Ve,10,3,"div",4),t.YNc(6,Xe,3,1,"div",4)}2&e&&(t.xp6(5),t.Q6J("ngIf",n.activeGvar),t.xp6(1),t.Q6J("ngIf",n.error))},directives:[B.KE,mt.Nt,A.lW,m.O5,Mt.d],styles:[".lookup-id-input[_ngcontent-%COMP%]{margin-right:4px;width:50%}.gvar-value-container[_ngcontent-%COMP%]{padding-top:1em}.gvar-value-display[_ngcontent-%COMP%]{white-space:pre-wrap;background-color:#0000001a;margin:0;border-style:solid;border-color:#00000026;border-width:1px;border-radius:6px}\n/*# sourceMappingURL=gvar-lookup.component.css.map*/"]});class st{constructor(e,n){this.gvarService=e,this.route=n}ngOnInit(){this.getCustomizations(),this.checkForLookupQuery()}getCustomizations(){this.gvars=this.gvarService.getAllGvars()}checkForLookupQuery(){this.route.snapshot.queryParamMap.get("lookup")&&(this.forcedTabIndex=2)}}st.\u0275fac=function(e){return new(e||st)(t.Y36(Q),t.Y36(_.gz))},st.\u0275cmp=t.Xpm({type:st,selectors:[["avr-gvars"]],decls:11,vars:9,consts:[[1,"container"],[3,"selectedIndex","selectedIndexChange"],["label","Owned"],[3,"data","owned"],["label","Editable"],["label","Lookup"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-tab-group",1),t.NdJ("selectedIndexChange",function(i){return n.forcedTabIndex=i}),t.TgZ(3,"mat-tab",2),t._UZ(4,"avr-gvar-list",3),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-tab",4),t._UZ(7,"avr-gvar-list",3),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"mat-tab",5),t._UZ(10,"avr-gvar-lookup"),t.qZA()()()()),2&e){let o,i;t.xp6(2),t.Q6J("selectedIndex",n.forcedTabIndex),t.xp6(2),t.Q6J("data",null==(o=t.lcZ(5,5,n.gvars))?null:o.owned)("owned",!0),t.xp6(3),t.Q6J("data",null==(i=t.lcZ(8,7,n.gvars))?null:i.editable)("owned",!1)}},directives:[ft.a8,ut.SP,ut.uX,ct,lt],pipes:[m.Ov],styles:[".container[_ngcontent-%COMP%]{margin:8px}\n/*# sourceMappingURL=gvars.component.css.map*/"]});var tn=l(2285);class j{constructor(e,n){this.router=e,this.platformId=n}canActivate(e,n){return!!(0,v.jl)()||((0,m.PM)(this.platformId)?(this.router.navigateByUrl(`/ssr${n.url}`),!1):((0,tn.qQ)("after-login-redirect",n.url),(0,v.dJ)(),!1))}canActivateChild(e,n){return this.canActivate(e,n)}}j.\u0275fac=function(e){return new(e||j)(t.LFG(_.F0),t.LFG(t.Lbi))},j.\u0275prov=t.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"});const en=[{path:"",canActivate:[j],component:L,children:[{path:"characters",component:nt},{path:"aliases",component:rt},{path:"gvars",component:st},{path:"homebrew",loadChildren:()=>l.e(876).then(l.bind(l,7876)).then(a=>a.HomebrewModule)},{path:"workshop",loadChildren:()=>Promise.all([l.e(592),l.e(225)]).then(l.bind(l,9225)).then(a=>a.WorkshopModule)},{path:"",redirectTo:"characters",pathMatch:"full"}]}];class ${}$.\u0275fac=function(e){return new(e||$)},$.\u0275mod=t.oAB({type:$}),$.\u0275inj=t.cJS({imports:[[_.Bz.forChild(en)],_.Bz]});class W{}W.\u0275fac=function(e){return new(e||W)},W.\u0275mod=t.oAB({type:W}),W.\u0275inj=t.cJS({imports:[[m.ez,w.q,u.u5,$,c.ae,N.l]]})},4453:(pt,U,l)=>{l.d(U,{s:()=>k});var m=l(7418),c=l(4766),u=l(6488),w=l(3184),N=l(8784);c.N.apiURL;const v=`${c.N.apiURL}/userStats`,x=`${c.N.apiURL}/characters`,t=`${x}/meta`,J=`${c.N.apiURL}/customizations`;class k{constructor(b){this.http=b}getUserStats(){return this.http.get(v,(0,u.vC)())}getCharacterMeta(){return this.http.get(t,(0,u.vC)())}getCharacterAttacks(b){const D=`${x}/${b}/attacks`;return this.http.get(D,(0,u.vC)())}getTemplateAttacks(){return this.http.get(`${x}/attacks/srd`,(0,u.vC)())}putCharacterAttacks(b,D){const V=`${x}/${b}/attacks`;return this.http.put(V,D,(0,u.vC)()).pipe((0,m.K)(u.Vm))}validateAttackJSON(b){const D=`${x}/attacks/validate`;return this.http.post(D,b,(0,u.vC)()).pipe((0,m.K)(u.Vm))}getCustomizations(){return this.http.get(J,(0,u.vC)())}}k.\u0275fac=function(b){return new(b||k)(w.LFG(N.eN))},k.\u0275prov=w.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})},1734:(pt,U,l)=>{l.d(U,{b:()=>E});var m=l(5758),c=l(3184),u=l(6362),w=l(4770),N=l(4683),_=l(587),v=l(6131),x=l(4742),t=l(7317);function J(T,C){if(1&T){const f=c.EpF();c.TgZ(0,"mat-list-item",9),c.NdJ("click",function(){const L=c.CHM(f).$implicit;return c.oxw(3).select(L)}),c._uU(1),c.qZA()}if(2&T){const f=C.$implicit,F=c.oxw(3);c.xp6(1),c.hij(" ",F.data.namer(f)," ")}}function k(T,C){if(1&T&&(c.TgZ(0,"div",7)(1,"mat-list"),c.YNc(2,J,2,1,"mat-list-item",8),c.qZA()()),2&T){const f=c.oxw(2);c.xp6(2),c.Q6J("ngForOf",f.filteredTemplates)}}function A(T,C){1&T&&(c.TgZ(0,"div",7),c._uU(1," No results found. "),c.qZA())}function b(T,C){if(1&T){const f=c.EpF();c.TgZ(0,"mat-dialog-content",3)(1,"div",4)(2,"mat-form-field")(3,"input",5),c.NdJ("ngModelChange",function(X){c.CHM(f);return c.oxw().search=X})("keyup",function(){return c.CHM(f),c.oxw().filterTemplates()}),c.qZA()()(),c.YNc(4,k,3,1,"div",6),c.YNc(5,A,2,0,"div",6),c.qZA()}if(2&T){const f=c.oxw();c.xp6(3),c.Q6J("ngModel",f.search),c.xp6(1),c.Q6J("ngIf",null==f.filteredTemplates?null:f.filteredTemplates.length),c.xp6(1),c.Q6J("ngIf",!(null!=f.filteredTemplates&&f.filteredTemplates.length))}}function D(T,C){1&T&&(c.TgZ(0,"mat-dialog-content",3),c._UZ(1,"mat-spinner",10),c.qZA()),2&T&&(c.xp6(1),c.Q6J("diameter",24))}class E{constructor(C,f){this.data=C,this.dialogRef=f,this.search=""}ngOnInit(){this.getTemplates()}select(C){this.dialogRef.close(C)}filterTemplates(){this.filteredTemplates=this.templates.filter(C=>this.data.namer(C).toLowerCase().includes(this.search.toLowerCase()))}getTemplates(){this.data.getter().subscribe(C=>{this.templates=C,this.filterTemplates()})}}E.\u0275fac=function(C){return new(C||E)(c.Y36(m.WI),c.Y36(m.so))},E.\u0275cmp=c.Xpm({type:E,selectors:[["avr-srd-copy-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],["mat-button","","mat-dialog-close",""],[1,"mat-typography"],[1,"form-container"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","keyup"],["class","results",4,"ngIf"],[1,"results"],["class","hoverable pointer",3,"click",4,"ngFor","ngForOf"],[1,"hoverable","pointer",3,"click"],[3,"diameter"]],template:function(C,f){1&C&&(c.TgZ(0,"h2",0),c._uU(1,"Copying SRD object..."),c.qZA(),c.YNc(2,b,6,3,"mat-dialog-content",1),c.YNc(3,D,2,1,"mat-dialog-content",1),c.TgZ(4,"mat-dialog-actions")(5,"button",2),c._uU(6,"Cancel"),c.qZA()()),2&C&&(c.xp6(2),c.Q6J("ngIf",f.templates),c.xp6(1),c.Q6J("ngIf",!f.templates))},directives:[m.uh,u.O5,m.xY,w.KE,N.Nt,_.Fj,_.JJ,_.On,v.i$,u.sg,v.Tg,x.Ou,m.H8,t.lW,m.ZT],encapsulation:2})},9163:(pt,U,l)=>{l.d(U,{U:()=>w});var m=l(2528),c=l(3184),u=l(7317);class w{constructor(_,v){this.data=_,this.snackBar=v}}w.\u0275fac=function(_){return new(_||w)(c.Y36(m.qD),c.Y36(m.ux))},w.\u0275cmp=c.Xpm({type:w,selectors:[["validation-snackbar"]],decls:5,vars:1,consts:[[1,"mat-simple-snackbar"],[1,"validation-error",3,"innerHTML"],[1,"mat-simple-snackbar-action","ng-star-inserted"],["mat-raised-button","",1,"mat-focus-indicator","mat-button","mat-button-base",3,"click"]],template:function(_,v){1&_&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"button",3),c.NdJ("click",function(){return v.snackBar.dismiss()}),c._uU(4," Close "),c.qZA()()()),2&_&&(c.xp6(1),c.Q6J("innerHTML",v.data.html,c.oJD))},directives:[u.lW],styles:[".validation-error[_ngcontent-%COMP%]{display:flex;flex-direction:column}  .validation-error-header{margin:0 0 .5em}  .validation-error-list{margin:0 0 .25em}  .validation-error-item{margin:0}  .mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1;gap:1rem}\n/*# sourceMappingURL=validation-snackbar.component.css.map*/"]})}}]);
//# sourceMappingURL=533.0be65096a4aeac31.js.map